## ARP 协议
数据链路层协议.

地址解析协议（Address Resolution Protocol，缩写：ARP）是一种使用在局域网上的通信协议。该协议将IP地址转换成对应的硬件地址，以使网络中的计算机能够找到对方。

主机发送信息时将包含目标IP地址的ARP请求广播到网络上的所有主机，并接收返回消息，以此确定目标的物理地址；收到返回消息后将该IP地址和物理地址存入本机ARP缓存中并保留一定时间，下次请求时直接查询ARP缓存以节约资源

地址解析协议是建立在网络中各个主机互相信任的基础上的，网络上的主机可以自主发送ARP应答消息，其他主机收到应答报文时不会检测该报文的真实性就会将其记入本机ARP缓存

由此攻击者就可以向某一主机发送伪ARP应答报文，使其发送的信息无法到达预期的主机或到达错误的主机，这就构成了一个ARP欺骗

### ARP 报文格式
![Alt text](assets/image-2.png)

ARP 帧类型为 0x0806

IP地址的协议类型为 0x8000

## 互联网层（网络层）
位于传输层和网络接口层之间,用于把数据从源主机经过若干个中间节点传送到目标主机,并向传输层提供最基础的数据传输服务,它要提供路由和选址的工作

### 选址(交换机)
交换机是靠MAC来寻址的，而因为MAC地址是无层次的,所以要靠IP地址来确认大网络中的计算机的位置(路由器),这就是选址.

交换机在小网络中使用.

![Alt text](assets/image-3.png)


### 路由(路由器)
**路由器是根据 IP 进行路由的**, 在能够选择的多条道路之间选择一条最短的路径就是路由的工作.

路由器属于第三层网络设备, 路由器可以实现不同网络之间的通信.

路由器在交换机的上一层, 可以缩小广播域.

![Alt text](assets/image-4.png)
